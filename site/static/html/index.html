<!DOCTYPE html>
<meta charset="utf-8">
<style>

  .node {
    stroke: #fff;
    stroke-width: 1.5px;
  }

  .link {
    stroke: #999;
    stroke-opacity: .6;
  }

</style>
<head>
  <link rel="stylesheet" href="http://yui.yahooapis.com/pure/0.6.0/pure-min.css">
  <link href="/static/css/c3.css" rel="stylesheet" type="text/css">
</head>
<body>
  <div class="pure-g">
    <div class="pure-u-2-3" id="user-graph"></div>
    <div class="pure-u-1-3">
      <h2>Twitters stock advertisers</h2>
      <p>Twitter has a large base of users that simply talk about and promote stock. By looking at what stocks they tweet about we find that some of the most frequent tweeters are related to each other in that they always tweet about the same stocks. This possibly means that these twitter acounts are either fakes, paid to promote specific stocks or connected in a community of interest.</p>
    </div>
  </div>
  <div class="pure-g">
    <div class="pure-u-2-3" id="stock-timeseries"></div>
    <div class="pure-u-1-3">
      <h2>Volume, price and twitter mentions</h2>
      <p>If there is a relation between twitter sentiment and stock prices it could be reflected in the sheer number of mentions a stock gets on Twitter. Here the number of mentions and the.</p>
    </div>
  </div>
  <script src="//d3js.org/d3.v3.min.js"></script>
  <script src="/static/js/c3.js"></script>
  <script>

    var chart = c3.generate({
      bindto: '#stock-timeseries',
      data: {
        x: 'x',
        // xFormat: '%Y%m%d', // 'xFormat' can be used as custom format of 'x'
columns: [
  ['x', '2013-01-01', '2013-01-02', '2013-01-03', '2013-01-04', '2013-01-05', '2013-01-06'],
  //['x', '20130101', '20130102', '20130103', '20130104', '20130105', '20130106'],
  ['data1', 30, 200, 100, 400, 150, 250],
  ['data2', 130, 340, 200, 500, 250, 350]
]
},
axis: {
  x: {
    type: 'timeseries',
    tick: {
      format: '%Y-%m-%d'
    }
  }
}
});

    setTimeout(function () {
      chart.load({
        columns: [
        ['data3', 400, 500, 450, 700, 600, 500]
        ]
      });
    }, 1000);

    var width = 960,
    height = 500;

    var color = d3.scale.category20();

    var force = d3.layout.force()
    .charge(-120)
    .linkDistance(30)
    .size([width, height]);

    var svg = d3.select("#user-graph").append("svg")
    .attr("width", width)
    .attr("height", height);

    d3.json("static/data/miserables.json", function(error, graph) {
      if (error) throw error;

      force
      .nodes(graph.nodes)
      .links(graph.links)
      .start();

      var link = svg.selectAll(".link")
      .data(graph.links)
      .enter().append("line")
      .attr("class", "link")
      .style("stroke-width", function(d) { return Math.sqrt(d.value); });

      var node = svg.selectAll(".node")
      .data(graph.nodes)
      .enter().append("circle")
      .attr("class", "node")
      .attr("r", 5)
      .style("fill", function(d) { return color(d.group); })
      .call(force.drag);

      node.append("title")
      .text(function(d) { return d.name; });

      force.on("tick", function() {
        link.attr("x1", function(d) { return d.source.x; })
        .attr("y1", function(d) { return d.source.y; })
        .attr("x2", function(d) { return d.target.x; })
        .attr("y2", function(d) { return d.target.y; });

        node.attr("cx", function(d) { return d.x; })
        .attr("cy", function(d) { return d.y; });
      });
    });

  </script>